"use strict";(self.webpackChunkDashboard_valuecleainig=self.webpackChunkDashboard_valuecleainig||[]).push([[980],{7980:(z,_,s)=>{s.r(_),s.d(_,{ProfileModule:()=>u});var g=s(6895),x=s(9299),l=s(4006),h=s(5938),e=s(4650),w=s(1194),b=s(7185),y=s(8423),c=s(9549),v=s(4859),Z=s(4144);function C(r,n){1&r&&(e.TgZ(0,"div",23),e._UZ(1,"img",24),e.qZA())}class m{constructor(n,t,o,i,a,d){this.data=n,this.fb=t,this.serv=o,this.toaster=i,this.sppiner=a,this.dialog=d,this.img=!1,this.url=""}ngOnInit(){this.createForm()}createForm(){this.editForm=this.fb.group({name:["",l.kI.required],phone:["",l.kI.required],address:["",l.kI.required],image:["",l.kI.required]})}selectPhoto(n){const t=n.target.files[0];if(t){this.photoName=t.name,this.editForm.get("image")?.setValue(t);const o=new FileReader;o.onload=i=>{this.url=i.target?.result},o.readAsDataURL(t)}}update(){if(this.editForm.valid){const n=this.createFormData();this.img=!0,this.serv.update(n).subscribe(t=>{this.img=!1,this.dialog.close(!0),this.toaster.success("update successfully","",{closeButton:!0,progressBar:!0,timeOut:3e3});let o=new Audio("../../../assets/notification-sound/login.wav");o.load(),o.play()},t=>{this.img=!1})}else this.editForm.markAllAsTouched()}createFormData(){const n=new FormData;return Object.entries(this.editForm.value).forEach(([t,o])=>{n.append(t,o)}),n}close(){this.dialog.close()}}function P(r,n){1&r&&(e.TgZ(0,"div",48),e._UZ(1,"img",49),e.qZA())}function T(r,n){1&r&&(e.ynx(0),e._uU(1,"The oldPassword field is required."),e.BQk())}function F(r,n){1&r&&(e.ynx(0),e._uU(1,"The oldPassword must be at least 6 characters. "),e.BQk())}function A(r,n){1&r&&(e.ynx(0),e._uU(1,"The oldPassword must have at least one uppercase ('A'-'Z')."),e.BQk())}function U(r,n){if(1&r&&(e.TgZ(0,"mat-error",50),e.YNc(1,T,2,0,"ng-container",51),e.YNc(2,F,2,0,"ng-container",51),e.YNc(3,A,2,0,"ng-container",51),e.qZA()),2&r){const t=e.oxw();let o,i,a;e.xp6(1),e.Q6J("ngIf",(null==(o=t.editForm.get("oldPassword"))?null:o.touched)&&(null==(o=t.editForm.get("oldPassword"))||null==o.errors?null:o.errors.required)),e.xp6(1),e.Q6J("ngIf",(null==(i=t.editForm.get("oldPassword"))?null:i.touched)&&(null==(i=t.editForm.get("oldPassword"))||null==i.errors?null:i.errors.minLength)),e.xp6(1),e.Q6J("ngIf",(null==(a=t.editForm.get("oldPassword"))?null:a.touched)&&(null==(a=t.editForm.get("oldPassword"))||null==a.errors?null:a.errors.upperCase))}}function q(r,n){1&r&&(e.ynx(0),e._uU(1,"The password field is required."),e.BQk())}function k(r,n){1&r&&(e.ynx(0),e._uU(1,"The password must be at least 6 characters. "),e.BQk())}function I(r,n){1&r&&(e.ynx(0),e._uU(1,"The passwords must have at least one uppercase ('A'-'Z')."),e.BQk())}function J(r,n){if(1&r&&(e.TgZ(0,"mat-error",50),e.YNc(1,q,2,0,"ng-container",51),e.YNc(2,k,2,0,"ng-container",51),e.YNc(3,I,2,0,"ng-container",51),e.qZA()),2&r){const t=e.oxw();let o,i,a;e.xp6(1),e.Q6J("ngIf",(null==(o=t.editForm.get("password"))?null:o.touched)&&(null==(o=t.editForm.get("password"))||null==o.errors?null:o.errors.required)),e.xp6(1),e.Q6J("ngIf",(null==(i=t.editForm.get("password"))?null:i.touched)&&(null==(i=t.editForm.get("password"))||null==i.errors?null:i.errors.minLength)),e.xp6(1),e.Q6J("ngIf",(null==(a=t.editForm.get("password"))?null:a.touched)&&(null==(a=t.editForm.get("password"))||null==a.errors?null:a.errors.upperCase))}}function O(r,n){1&r&&(e.ynx(0),e._uU(1,"The password_confirmation field is required."),e.BQk())}function N(r,n){1&r&&(e.ynx(0),e._uU(1,"The password_confirmation must be at least 6 characters. "),e.BQk())}function Q(r,n){1&r&&(e.ynx(0),e._uU(1,"The password_confirmation must have at least one uppercase ('A'-'Z')."),e.BQk())}function M(r,n){if(1&r&&(e.TgZ(0,"mat-error",50),e.YNc(1,O,2,0,"ng-container",51),e.YNc(2,N,2,0,"ng-container",51),e.YNc(3,Q,2,0,"ng-container",51),e.qZA()),2&r){const t=e.oxw();let o,i,a;e.xp6(1),e.Q6J("ngIf",(null==(o=t.editForm.get("password_confirmation"))?null:o.touched)&&(null==(o=t.editForm.get("password_confirmation"))||null==o.errors?null:o.errors.required)),e.xp6(1),e.Q6J("ngIf",(null==(i=t.editForm.get("password_confirmation"))?null:i.touched)&&(null==(i=t.editForm.get("password_confirmation"))||null==i.errors?null:i.errors.minLength)),e.xp6(1),e.Q6J("ngIf",(null==(a=t.editForm.get("password_confirmation"))?null:a.touched)&&(null==(a=t.editForm.get("password_confirmation"))||null==a.errors?null:a.errors.upperCase))}}m.\u0275fac=function(n){return new(n||m)(e.Y36(h.WI),e.Y36(l.qu),e.Y36(w.H),e.Y36(b._W),e.Y36(y.t2),e.Y36(h.so))},m.\u0275cmp=e.Xpm({type:m,selectors:[["app-editprofile"]],decls:39,vars:4,consts:[[1,"wrapper"],["id","pre-loader",4,"ngIf"],[1,"p-4"],[1,"d-flex","justify-content-between","align-items-center"],[1,"m-0"],[1,"animate__animated","animate__fadeInDown",2,"margin-top","46px",3,"formGroup"],[1,"row","mt-3"],[1,"col-md-12"],["appearance","outline",1,"w-100"],["for","arTitle"],["matInput","","id","arTitle","formControlName","name"],["for","enTitle"],["matInput","","id","enTitle","formControlName","phone"],["for","enDescription"],["matInput","","id","enDescription","formControlName","address"],["for","selected","type","button",1,"button","gray","small"],["role","alert"],["alt","",1,"myu",3,"src"],["type","file","id","selected","hidden","",3,"change"],[1,"tw-p-6"],[1,"d-flex","justify-content-center","align-items-center"],["mat-flat-button","","type","button",1,"btn","btn-success","py-1","px-5","mx-2",3,"click"],["mat-flat-button","","type","button",1,"btn","btn-danger","py-1","px-5",3,"click"],["id","pre-loader"],["src","../../../assets/loader-01.svg","alt",""]],template:function(n,t){1&n&&(e.TgZ(0,"div",0),e.YNc(1,C,2,0,"div",1),e.qZA(),e.TgZ(2,"div",2)(3,"header",3)(4,"h1",4),e._uU(5,"Update Data"),e.qZA()(),e._UZ(6,"hr"),e.TgZ(7,"form",5)(8,"div",6)(9,"div",7)(10,"mat-form-field",8)(11,"mat-label",9),e._uU(12,"Name"),e.qZA(),e._UZ(13,"input",10),e.qZA()(),e.TgZ(14,"div",7)(15,"mat-form-field",8)(16,"mat-label",11),e._uU(17,"Phone"),e.qZA(),e._UZ(18,"input",12),e.qZA()(),e.TgZ(19,"div",7)(20,"mat-form-field",8)(21,"mat-label",13),e._uU(22,"Address"),e.qZA(),e._UZ(23,"input",14),e.qZA()(),e.TgZ(24,"div",7)(25,"label",15),e._uU(26,"Select Photo"),e.qZA(),e.TgZ(27,"div",16)(28,"div")(29,"p"),e._uU(30),e.qZA()(),e._UZ(31,"img",17),e.qZA(),e.TgZ(32,"input",18),e.NdJ("change",function(i){return t.selectPhoto(i)}),e.qZA()()(),e.TgZ(33,"footer",19)(34,"div",20)(35,"button",21),e.NdJ("click",function(){return t.update()}),e._uU(36,"Update"),e.qZA(),e.TgZ(37,"button",22),e.NdJ("click",function(){return t.close()}),e._uU(38,"Close"),e.qZA()()()()()),2&n&&(e.xp6(1),e.Q6J("ngIf",t.img),e.xp6(6),e.Q6J("formGroup",t.editForm),e.xp6(23),e.Oqu(t.url?t.photoName:t.editForm.value.image),e.xp6(1),e.Q6J("src",t.url?t.url:t.editForm.value.image,e.LSH))},dependencies:[g.O5,c.KE,c.hX,l._Y,l.Fj,l.JJ,l.JL,l.sg,l.u,v.lW,Z.Nt]});class f{constructor(n,t,o,i){this.serv=n,this.dialog=t,this.fb=o,this.toaster=i,this.showdata={},this.img=!1,this.visible=!0,this.changetype=!0,this.visiblee=!0,this.changetypee=!0,this.visibleee=!0,this.changetypeee=!0}ngOnInit(){this.createForm(),this.getDataProfile()}createForm(){this.editForm=this.fb.group({oldPassword:["",l.kI.required],password:["",[l.kI.required,this.passwordValidator]],password_confirmation:["",[l.kI.required,this.passwordValidator]]})}passwordValidator(n){const t=n.value;if(!t)return{required:!0};const o=t.length>=6,i=/[A-Z]/.test(t),a=/[a-z]/.test(t),d={};return o||(d.minLength=!0),i||(d.upperCase=!0),a||(d.lowerCase=!0),Object.keys(d).length?d:null}getDataProfile(){this.img=!0,this.serv.getData().subscribe(n=>{this.showdata=n.user,localStorage.setItem("name",this.showdata.name),localStorage.setItem("email",this.showdata.email),localStorage.setItem("image",this.showdata.image),this.img=!1})}openForm(){this.dialog.open(m,{width:"750px",height:"500px",disableClose:!0}).afterClosed().subscribe(t=>{})}update(){let n=this.creatFormData();this.serv.changePass(n).subscribe(t=>{this.toaster.success("update successfully","",{closeButton:!0,progressBar:!0,timeOut:3e3});let o=new Audio("../../../assets/notification-sound/login.wav");o.load(),o.play()})}creatFormData(){let n=new FormData;return Object.entries(this.editForm.value).forEach(([t,o])=>{n.append(t,o)}),n}viewpass(){this.visible=!this.visible,this.changetype=!this.changetype}viewpasss(){this.visiblee=!this.visiblee,this.changetypee=!this.changetypee}viewpassss(){this.visibleee=!this.visibleee,this.changetypeee=!this.changetypeee}}f.\u0275fac=function(n){return new(n||f)(e.Y36(w.H),e.Y36(h.uw),e.Y36(l.qu),e.Y36(b._W))},f.\u0275cmp=e.Xpm({type:f,selectors:[["app-profile"]],decls:80,vars:16,consts:[[1,"wrapper"],["id","pre-loader",4,"ngIf"],[1,"container-fluid"],[1,"row","row-offcanvas","row-offcanvas-right"],[1,"content-wrapper","profile-page"],[1,"row"],[1,"col-lg-12","mb-30"],[1,"card"],[1,"card-body"],[1,"user-bg",2,"background","url(images/user-bg.jpg)"],[1,"user-info"],[1,"col-lg-6","align-self-center"],[1,"user-dp"],["alt","",3,"src"],[1,"user-detail"],[1,"name"],[1,"designation","mb-0"],[1,"col-lg-6","text-right","align-self-center"],["href","#",1,"dropdown-item"],["type","button",1,"btn","btn-lg","btn-primary",3,"click"],[1,"text-success","ti-pencil-alt"],[1,"col-xl-4","mb-30"],[1,"card","mb-30","about-me"],[1,"card-title"],[1,"list-unstyled"],[1,"list-item"],[1,"text-info","ti-email"],[1,"text-warning","ti-direction-alt"],[1,"text-dark","ti-direction-alt"],[1,"col-xl-8","mb-30"],[1,"card","mb-30"],[1,"comment-block"],["for","arTitle"],[1,"animate__animated","animate__fadeInDown",2,"margin-top","46px",3,"formGroup"],[1,"row","mt-3"],[1,"col-md-12"],["appearance","outline",1,"w-100"],["for","password"],["matInput","","id","password","formControlName","oldPassword","placeholder","Add Old Password",3,"type"],[1,"eyeicon",3,"click"],[2,"font-size","17px",3,"ngClass"],["class","error",4,"ngIf"],["matInput","","id","password","formControlName","password","placeholder","Add Password",3,"type"],["matInput","","id","password","formControlName","password_confirmation","placeholder","Add Password Confirmation",3,"type"],[1,"tw-p-6"],[1,"d-flex","justify-content-center","align-items-center"],["mat-flat-button","","type","button",1,"btn","btn-success","py-1","px-5","mx-2",3,"click"],["mat-flat-button","","type","button",1,"btn","btn-danger","py-1","px-5"],["id","pre-loader"],["src","../../../assets/loader-01.svg","alt",""],[1,"error"],[4,"ngIf"]],template:function(n,t){if(1&n&&(e.TgZ(0,"div",0),e.YNc(1,P,2,0,"div",1),e.TgZ(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"div",6)(7,"div",7)(8,"div",8)(9,"div",9)(10,"div",10)(11,"div",5)(12,"div",11)(13,"div",12),e._UZ(14,"img",13),e.qZA(),e.TgZ(15,"div",14)(16,"h2",15),e._uU(17),e.qZA(),e.TgZ(18,"p",16),e._uU(19,"- Admin"),e.qZA()()(),e.TgZ(20,"div",17),e._UZ(21,"a",18),e.TgZ(22,"button",19),e.NdJ("click",function(){return t.openForm()}),e._UZ(23,"i",20),e._uU(24,"Edit Profile"),e.qZA()()()()()()()()(),e.TgZ(25,"div",5)(26,"div",21)(27,"div",22)(28,"div",8)(29,"h5",23),e._uU(30," About Me"),e.qZA(),e.TgZ(31,"ul",24)(32,"li",25),e._UZ(33,"span",26),e._uU(34),e.qZA(),e.TgZ(35,"li",25),e._UZ(36,"span",27),e._uU(37),e.qZA(),e.TgZ(38,"li",25),e._UZ(39,"span",28),e._uU(40),e.qZA()()()()(),e.TgZ(41,"div",29)(42,"div",30)(43,"div",8)(44,"div",31)(45,"mat-label",32),e._uU(46,"Change Password "),e.qZA(),e.TgZ(47,"form",33)(48,"div",34)(49,"div",35)(50,"mat-form-field",36)(51,"mat-label",37),e._uU(52,"Old Password"),e.qZA(),e._UZ(53,"input",38),e.TgZ(54,"span",39),e.NdJ("click",function(){return t.viewpass()}),e._UZ(55,"i",40),e.qZA(),e.YNc(56,U,4,3,"mat-error",41),e.qZA()(),e.TgZ(57,"div",35)(58,"mat-form-field",36)(59,"mat-label",37),e._uU(60,"Password"),e.qZA(),e._UZ(61,"input",42),e.TgZ(62,"span",39),e.NdJ("click",function(){return t.viewpasss()}),e._UZ(63,"i",40),e.qZA(),e.YNc(64,J,4,3,"mat-error",41),e.qZA()(),e.TgZ(65,"div",35)(66,"mat-form-field",36)(67,"mat-label",37),e._UZ(68,"P"),e._uU(69,"Password Confirmation"),e.qZA(),e._UZ(70,"input",43),e.TgZ(71,"span",39),e.NdJ("click",function(){return t.viewpassss()}),e._UZ(72,"i",40),e.qZA(),e.YNc(73,M,4,3,"mat-error",41),e.qZA()()(),e.TgZ(74,"footer",44)(75,"div",45)(76,"button",46),e.NdJ("click",function(){return t.update()}),e._uU(77,"Update"),e.qZA(),e.TgZ(78,"button",47),e._uU(79,"Close"),e.qZA()()()()()()()()()()()()()),2&n){let o,i,a;e.xp6(1),e.Q6J("ngIf",t.img),e.xp6(13),e.Q6J("src",null==t.showdata?null:t.showdata.image,e.LSH),e.xp6(3),e.Oqu(null==t.showdata?null:t.showdata.name),e.xp6(17),e.Oqu(null==t.showdata?null:t.showdata.phone),e.xp6(3),e.Oqu(null==t.showdata?null:t.showdata.email),e.xp6(3),e.Oqu(null==t.showdata?null:t.showdata.address),e.xp6(7),e.Q6J("formGroup",t.editForm),e.xp6(6),e.Q6J("type",t.changetype?"password":"text"),e.xp6(2),e.Q6J("ngClass",t.visible?"fa fa-eye":"fa fa-eye-slash"),e.xp6(1),e.Q6J("ngIf",(null==(o=t.editForm.get("oldPassword"))?null:o.invalid)&&(null==(o=t.editForm.get("oldPassword"))?null:o.touched)),e.xp6(5),e.Q6J("type",t.changetypee?"password":"text"),e.xp6(2),e.Q6J("ngClass",t.visiblee?"fa fa-eye":"fa fa-eye-slash"),e.xp6(1),e.Q6J("ngIf",(null==(i=t.editForm.get("password"))?null:i.invalid)&&(null==(i=t.editForm.get("password"))?null:i.touched)),e.xp6(6),e.Q6J("type",t.changetypeee?"password":"text"),e.xp6(2),e.Q6J("ngClass",t.visibleee?"fa fa-eye":"fa fa-eye-slash"),e.xp6(1),e.Q6J("ngIf",(null==(a=t.editForm.get("password_confirmation"))?null:a.invalid)&&(null==(a=t.editForm.get("password_confirmation"))?null:a.touched))}},dependencies:[g.mk,g.O5,c.TO,c.KE,c.hX,l._Y,l.Fj,l.JJ,l.JL,l.sg,l.u,v.lW,Z.Nt],styles:[".form_container[_ngcontent-%COMP%]{width:-moz-fit-content;width:fit-content;height:-moz-fit-content;height:fit-content;display:flex;flex-direction:column;align-items:center;justify-content:center;gap:15px;padding:50px 40px 20px;background-color:#fff;box-shadow:0 106px 42px #00000003,0 59px 36px #0000000d,0 26px 26px #00000017,0 7px 15px #0000001a,0 0 #0000001a;border-radius:11px;font-family:Inter,sans-serif}.logo_container[_ngcontent-%COMP%]{box-sizing:border-box;width:80px;height:80px;background:linear-gradient(180deg,rgba(248,248,248,0) 50%,#F8F8F888 100%);border:1px solid #F7F7F8;filter:drop-shadow(0px .5px .5px #EFEFEF) drop-shadow(0px 1px .5px rgba(239,239,239,.5));border-radius:11px}.title_container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;gap:10px}.title[_ngcontent-%COMP%]{margin:0;font-size:1.25rem;font-weight:700;color:#212121}.subtitle[_ngcontent-%COMP%]{font-size:.725rem;max-width:80%;text-align:center;line-height:1.1rem;color:#8b8e98}.input_container[_ngcontent-%COMP%]{width:100%;height:-moz-fit-content;height:fit-content;position:relative;display:flex;flex-direction:column;gap:5px}.icon[_ngcontent-%COMP%]{width:20px;position:absolute;z-index:99;left:-146px;bottom:19px}.input_label[_ngcontent-%COMP%]{font-size:.75rem;font-weight:600}.input_field[_ngcontent-%COMP%]{width:auto;height:60px;padding:5px 0 6px 49px;cursor:pointer;border-radius:11px;outline:none;border:2px solid #e5e5e5;filter:drop-shadow(0px 1px 0px #efefef) drop-shadow(0px 1px .5px rgba(239,239,239,.5));transition:all .3s cubic-bezier(.15,.83,.66,1)}.input_field[_ngcontent-%COMP%]:focus{border:1px solid transparent;box-shadow:0 0 0 2px #242424;background-color:transparent}.sign-in_btn[_ngcontent-%COMP%]{width:100%;height:40px;border:0;background:#115DFC;border-radius:7px;outline:none;color:#fff;cursor:pointer}.sign-in_ggl[_ngcontent-%COMP%]{width:100%;height:40px;display:flex;align-items:center;justify-content:center;gap:10px;background:#ffffff;border-radius:7px;outline:none;color:#242424;border:1px solid #e5e5e5;filter:drop-shadow(0px 1px 0px #efefef) drop-shadow(0px 1px .5px rgba(239,239,239,.5));cursor:pointer}.sign-in_apl[_ngcontent-%COMP%]{width:100%;height:40px;display:flex;align-items:center;justify-content:center;gap:10px;background:#212121;border-radius:7px;outline:none;color:#fff;border:1px solid #e5e5e5;filter:drop-shadow(0px 1px 0px #efefef) drop-shadow(0px 1px .5px rgba(239,239,239,.5));cursor:pointer}.separator[_ngcontent-%COMP%]{width:100%;display:flex;align-items:center;justify-content:center;gap:30px;color:#8b8e98}.separator[_ngcontent-%COMP%]   .line[_ngcontent-%COMP%]{display:block;width:100%;height:1px;border:0;background-color:#e8e8e8}.note[_ngcontent-%COMP%]{font-size:.75rem;color:#8b8e98;text-decoration:underline}.form-group[_ngcontent-%COMP%]{position:relative;width:250px}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{border:1px solid #ddd;height:40px;padding:0 15px;border-radius:5px;font-size:15px;width:100%}.eyeicon[_ngcontent-%COMP%]{position:absolute;right:16px;top:8px;cursor:pointer}.ii[_ngcontent-%COMP%]{background:none!important}.error[_ngcontent-%COMP%]{font-size:12px!important}"]});const Y=[{path:"",component:f}];class p{}p.\u0275fac=function(n){return new(n||p)},p.\u0275mod=e.oAB({type:p}),p.\u0275inj=e.cJS({imports:[x.Bz.forChild(Y),x.Bz]});var D=s(7775);class u{}u.\u0275fac=function(n){return new(n||u)},u.\u0275mod=e.oAB({type:u}),u.\u0275inj=e.cJS({imports:[g.ez,p,D.m,l.UX]})}}]);